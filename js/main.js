$(document).ready(function(){"use strict";$('[data-action="headerContactsToggle"]').on("click",function(e){e.preventDefault();var t=$(this),a=$("header .contacts");t.parent().siblings().find(".contacts__item-text").removeClass("visible"),t.next().toggleClass("visible"),$(document).click(function(e){a.is(e.target)||0!==a.has(e.target).length||(a.find(".contacts__item-text").removeClass("visible"),$(document).unbind("click"))})}),$(".slider").slick({arrows:!0,dots:!1,infinite:!1,speed:200,slidesToShow:1,slidesToScroll:1}),$(document).on("click",'[data-toggle="slideNext"]',function(e){e.preventDefault();var t=$(this);t.next().slideToggle(300).toggleClass("open"),t.toggleClass("toggled")}),$(".phone-mask").mask("+7 999 999-99-99"),$(".select").each(function(){const e=$(this),t=e.find("option"),a=t.length,o=(t.filter(":selected"),100);e.hide(),e.wrap('<div class="select"></div>'),$("<div>",{class:"new-select",text:e.children("option:selected").text()}).insertAfter(e);const l=e.next(".new-select");$("<div>",{class:"new-select__list"}).insertAfter(l);const i=l.next(".new-select__list");for(var n=1;n<a;n++)$("<div>",{class:"new-select__item",html:$("<span>",{text:t.eq(n).text()})}).attr("data-value",t.eq(n).val()).appendTo(i);const s=i.find(".new-select__item");i.slideUp(0),l.on("click",function(){$(this).hasClass("on")?($(this).removeClass("on"),i.slideUp(o)):($(this).addClass("on"),i.slideDown(o),s.on("click",function(){var e=$(this).data("value");$("select").val(e).attr("selected","selected"),l.text($(this).find("span").text()),i.slideUp(o),l.removeClass("on")}))})}),$('[data-action="slideToggle"]').on("click",function(e){e.preventDefault();var t=$(this),a=$('[aria-labelledby="'+t.attr("id")+'"]');$('div[aria-labelledby][aria-labelledby!="'+t.attr("id")+'"]').slideUp(200).removeClass("open"),$('div[aria-labelledby][aria-labelledby!="'+t.attr("id")+'"]').closest(".all__item").removeClass("open"),a.slideToggle(200).toggleClass("open"),t.toggleClass("toggled"),t.closest(".all__item").toggleClass("open")}),$('[data-action="tabToggle"]').on("click",function(e){e.preventDefault();var t=$(this),a=t.attr("href");t.addClass("active").siblings().removeClass("active"),$(a).addClass("active").siblings().removeClass("active")}),$('[data-action="menuShow"]').on("click",function(e){e.preventDefault(),$(this).toggleClass("opened"),$(".mobile-menu").toggleClass("visible"),$("header").toggleClass("mobile-opened")}),$('[data-action="overlayClose"]').on("click",function(e){e.preventDefault(),$(".overlay, footer .contacts-wrapper, header .menu, .contacts__item__text-wrapper, .modal").removeClass("visible")}),$('[data-action="closeModal"]').on("click",function(e){e.preventDefault(),$(".overlay, .modal").removeClass("visible")}),$(document).on("submit","#checkoutForm",function(e){e.preventDefault();var t=!1,a=$(this),o=a.find(".required"),l=a.serializeArray(),i=/\S+@\S+\.\S+/;return a.find(".error-message").hide(),a.find(".input-wrapper").removeClass("error"),o.each(function(){0===$(this).val().length?($(this).parent().addClass("error"),$(this).parent().find(".not-empty").show(),t=!0):"email"!==$(this).attr("id")||i.test($(this).val())||($(this).parent().addClass("error"),$(this).parent().find(".wrong-format").show(),t=!0)}),t||$.ajax({type:"POST",url:"/send-mail",data:l,success:function(e){e.success?($(".overlay, .modal.success").addClass("visible"),a.trigger("reset")):$(".overlay, .modal.failed").addClass("visible")},error:function(){$(".overlay, .modal.failed").addClass("visible")}}),!1}),$(document).on("change","#contactForm .required",function(e){e.preventDefault();var t=!1;$("#contactForm .required").each(function(){0!==$(this).val().length?$(this).removeClass("error"):t=!0}),t||$("#contactForm .btn").prop("disabled",!1)}),$(window).scroll(function(){$(".index-page header").toggleClass("visible",$(window).scrollTop()>100)}),$(document).on("click","#getaQuoteLink",function(e){e.preventDefault(),$('[data-action="menuShow"].opened').trigger("click"),$("html, body").animate({scrollTop:$("section#contacts").offset().top},200)})}),lightbox.option({fadeDuration:100,imageFadeDuration:100,resizeDuration:100,wrapAround:!0});